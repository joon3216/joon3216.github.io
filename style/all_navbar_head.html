<!-- A new navigation bar style settings -->
<style type="text/css">
body
{
    margin: 0;
    padding: 0;
    font-family: sans-serif;
}
/* at the top */
header
{
    position: sticky;
    top: 0;
    left: 0;
    padding: 0; /* old: 10px 25px */
    background: rgba(28, 44, 56, 0.99);
    width: 100%;
    height: 50px;
    box-sizing: border-box;
    border-bottom: 1px solid #EAEAEB;
    transition: .5s;
}
header .logo
{
    float: left;
}
header .logo img
{
    height: 30px;
    /* new: margin; why: so that in header, padding can be 0 */
    /* note: header nav ul li a has margin 20px on left and right, 
    so here I let the right margin of img to be 5px so that it matches
    with the left margin 25px */
    margin: 10px 5px 10px 25px; 
}
header nav
{
    float: left;
}
header nav ul
{
    margin: 0;
    padding: 0;
    display: flex;

}
header nav ul li
{
    padding: 0;
    list-style: none;
    position: relative;
    /* new: margin and padding; why: header padding is now 0 */
    margin: 0;
    padding: 8.5px 0 8.5px 0;
}
/* new; why: texts with arrow on the right gets more space  */
header nav ul li.sub-menu
{
    /* why 8.5px: that's the value in header nav ul li padding */
    padding: 8.5px 15px 8.5px 0; 
}

header nav ul li.sub-menu:before
{
    content: '▼'; /* &#9660 nabla */
    font-size: 16pt;
    font-family: sans-serif;
    position: absolute;
    line-height: 30px;
    color: #ffffff;
    top: 5pt;
    right: 10px;
    cursor: pointer;
}
header nav ul li.active.sub-menu:before
{
    content: '▲';  /* &#9650 Delta */
    font-size: 16pt;
    top: 5pt;
    right: 10px;
    cursor: pointer;
}
header nav ul li ul
{
    position: absolute;
    left: 0;
    top: 50px; /* controls the box position of dropdown menus */
    background: rgba(57, 143, 209, 0.99);
    display: none;
}
header nav ul li.active ul
{
    display: block;
}

/* new; why: make dropdown menu box fit to the menu above */
header nav ul li#projects.sub-menu ul li
{
    display: block;
    width: 115px;
    padding: 0; /* slimmer individual dropdown menu items */
}
header nav ul li#rm.sub-menu ul li
{
    display: block;
    width: 197px;
    padding: 0; /* slimmer individual dropdown menu items */
}

header nav ul li a
{
    height: 30px;
    line-height: 30px;
    padding: 0; /* old: 0 20px, and margin didn't exist; why change: to make text the only clickable object */
    margin: 0 20px;
    color: #ffffff;
    text-decoration: none;
    /*display: block;*/
}

/* new: news; why add: to make News go to the right */
/* commented out because the same effect is achieved by having 
header nav ul li.sub-menu padding: 8.5px 15px 8.5px 0; */
/* header nav ul li.news
{
    margin: 0 0 0 20px;
} */

/* new: rm; why: to make r_m go to the right */
/* commented out because the same effect is achieved by having 
header nav ul li.sub-menu padding: 8.5px 15px 8.5px 0; */
/* header nav ul li#rm
{
    margin: 0 0 0 20px;
} */

header nav ul li a:hover
{
    color: #ffffff;
}

/* new: research_materials; why: to make dropdown menu appear whenever mouse is above */

/* end of this new attempt */

.menu-toggle
{
    color: #ffffff;
    float: right;
    line-height: 30px;
    font-size: 24px;
    cursor: pointer;
    display: none;
}
@media (max-width: 800px) /* old1: 991px; old2: 721px */
{
    /* at the top */
    header
    {
        padding: 0; /* old: 10px 25px */
    }
    .menu-toggle
    {
        display: block;
        margin: 10px 25px /* new; why: header padding is now 0 */
    }
    header nav
    {
        /*display: none;*/
        position: absolute;
        width: 100%;
        height: calc(100vh - 50px);
        background: rgba(28, 44, 56, 0.99);
        top: 50px;
        left: -100%;
        transition: .5s;
    }
    header nav.active
    {
        left: 0;
    }
    header nav ul
    {
        display: block;
        /*text-align: center;*/
    }
    header nav ul li a
    {
        border-bottom: 1px solid rgba(255, 255, 255, .5);
        height: 50px;
        line-height: 50px;
        padding: 0 20px;
    }
    header nav ul li.active ul
    {
        position: relative;
    }
    header nav ul li ul li
    {
        width: 100%;
    }

    /* new: header nav ul li.sub-menu */
    /* why: so that dropdown menus fill the entire row in mobile */
    header nav ul li.sub-menu
    {
        padding: 8.5px 0;
    }

    header nav ul li.sub-menu:before
    {
        content: '+'; /* old: &#9660 nabla */
        font-size: 20pt;
        font-family: sans-serif;
        position: absolute;
        line-height: 30px;
        color: #ffffff;
        top: 5pt;
        right: 25px;
        cursor: pointer;
    }
    header nav ul li.active.sub-menu:before
    {
        content: '-';  /* new: &#9650 Delta */
        font-size: 30pt;
        top: 5pt;
        right: 25px;
        line-height: 30px;
        cursor: pointer;
    }
    header nav ul li ul
    {
        position: absolute;
        left: 0;
        top: 0px; /* controls the box position of 2018 and 2019 under Research materials */
        background: rgba(57, 143, 209, 0.99);
        display: none;
    }

    /* new: News; why: to make News align with the others in mobile */
    /* commented out since Research Materials uses different method
    to get more space on its right (header nav ul li.sub-menu padding) */

    /* header nav ul li.news
    {
        margin: 0;
    } */
    /* new: rm; why: to make rm align with the others in mobile */
    /* commented out for the same reason */
    /* header nav ul li#rm
    {
        margin: 0;
    } */

    /* while scrolling */

}

/* while scrolling */
header.black
{
    background: rgba(21, 92, 148, .7);
}
</style>

<!-- 1. Navigation bar color change as one scrolls -->
<!-- by adding a new class="black" while scrolling -->
<script src="https://code.jquery.com/jquery-3.3.1.js"></script>
<script type="text/javascript">
    $(window).on('scroll', function(){
        if ($(window).scrollTop()){
            $('header').addClass('black');
        }
        else
        {
            $('header').removeClass('black');
        }
    })
</script>

<!-- 2. Navigation bar slides from the left in mobile -->
<!-- 3. Only one dropdown menu at a time will appear -->
<script type="text/javascript">
    $(document).ready(function(){
        $('.menu-toggle').click(function(){
            $('nav').toggleClass('active')
        })
        $('ul li').click(function(){
            $(this).siblings().removeClass('active');
            $(this).toggleClass('active');
        })
    })
</script>